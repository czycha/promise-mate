!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("fast-deep-equal"),require("just-is-primitive")):"function"==typeof define&&define.amd?define(["fast-deep-equal","just-is-primitive"],t):e.promiseMate=t(e.isEqual,e.isPrimitive)}(this,function(e,t){function i(i,n){var r=-1;if(t(n))r=i.indexOf(n);else for(var o=0;o<i.length;o++)if(e(i[o],n)){r=o;break}return-1===r&&i.push(n),-1===r?i.length-1:r}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var n=function(e){void 0===e&&(e={}),this.definitions=e};return n.prototype.define=function(e,t){return this.definitions[e]=t,this},n.prototype.undefine=function(e){return delete this.definitions[e],this},n.prototype.all=function(e){return n.all(this.definitions,e)},n.all=function(e,t){for(var n=[],r=[],o=0,u=t;o<u.length;o+=1){var f=u[o];if(actionMap=[],Array.isArray(f.requires))for(var s=0,a=f.requires;s<a.length;s+=1){actionMap.push(i(n,a[s]))}else actionMap.push(i(n,f.requires));r.push(actionMap)}for(var p=[],h=0,l=n;h<l.length;h+=1){var d=l[h];"string"==typeof d&&e.hasOwnProperty(d)?p.push(e[d]()):p.push(d)}return Promise.all(p).then(function(e){for(var i=[],n=0;n<t.length;n++){for(var o=t[n],u=[],f=0,s=r[n];f<s.length;f+=1){u.push(e[s[f]])}i.push("function"==typeof o.then?o.then.apply(o,u):o.then)}return i})},n});
//# sourceMappingURL=promise-mate.umd.js.map
